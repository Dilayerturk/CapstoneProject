@model refactoradiyos_final.Models.UserClass

@{
    Layout = null;
    ViewBag.Title = "index";

}

<!DOCTYPE html>
<html>
<head>
    <link rel="shortcut icon" href="assets/images/favicon.ico">

    <title>Adiyos - Smart Diabetes Mellitus Management Tool</title>

    <link href="~/plugins/switchery/switchery.min.css" rel="stylesheet" />

    <link href="~/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="~/assets/css/icons.css" rel="stylesheet" type="text/css">
    <link href="~/assets/css/style.css" rel="stylesheet" type="text/css">

    <script src="~/assets/js/modernizr.min.js"></script>

</head>
<body>


    @using (Html.BeginForm("Index", "NewReg", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        @Html.AntiForgeryToken()
        <form id="myForm">
            <div class="form-group">
                <div class="wrapper-page">

                    <div class="text-center">
                        <a href="index.html" class="logo-lg"><i class="mdi mdi-radar"></i> <span>Adiyos</span> </a>
                    </div>

                    <div class="form-horizontal m-t-20" action="index.html">


                        <div class="form-group">
                            @Html.LabelFor(model => model.Uname, htmlAttributes: new { @class = "control-label col-12" })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.Uname, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Uname, "", new { @class = "text-danger" })
                            </div>
                        </div>


                        <div class="form-group">
                            @Html.LabelFor(model => model.Uemail, htmlAttributes: new { @class = "control-label col-12" })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.Uemail, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Uemail, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.Upwd, htmlAttributes: new { @class = "control-label col-12" })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.Upwd, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Upwd, "", new { @class = "text-danger" })
                            </div>
                        </div>


                        <div class="form-group">
                            @Html.LabelFor(model => model.Gender, htmlAttributes: new { @class = "control-label col-12" })
                            <div class="col-md-10">
                                @Html.Label("Male")
                                @Html.RadioButtonFor(model => model.Gender, "M")
                                @Html.Label("FeMale")
                                @Html.RadioButtonFor(model => model.Gender, "F")
                                @Html.ValidationMessageFor(model => model.Gender, "", new { @class = "text-danger" })
                            </div>
                        </div>


                        <div class="form-group">
                            @Html.LabelFor(model => model.Uimg, htmlAttributes: new { @class = "control-label col-12" })
                            <div class="col-md-10">
                                <input type="file" name="file" />

                                @Html.ValidationMessageFor(model => model.Uimg, "", new { @class = "text-danger" })
                            </div>
                        </div>


                        <div class="form-group text-right m-t-20">
                            <div class="col-xs-12">
                                <input type="submit" value="Registration" class="btn btn-primary btn-custom waves-effect waves-light w-md" />
                            </div>
                        </div>

                        <div class="form-group row m-t-30">
                            <div class="col-12 text-center">
                                <a href="pages-login.html" class="text-muted">Zaten hesabınız var mı?</a>
                            </div>
                        </div>
                        @Html.ViewData["Message"]
                    </div>

                </div>
            </div>
        </form>
     
    }


    <div>
        @Html.ActionLink("Back to List", "Index")
    </div>



<script>
    var resizefunc = [];
</script>

<script>
    var Index = function() {
        debugger
        var data = $("#myForm").serilalize();

        var Uemail = $("#Uemail").val();

        if (Uemail == "" || Uemail == undefined) {
            alert("Oldu bak")
            return false;
        }

        if (!$("#myForm").valid()) {
            return false;
        }
        $.ajax({
            type: "Post",
            url: "/NewReg/Index",
            data: data,
            success: function (response) {
                
                debugger
                if (response == "fail") {
                    window.location.href = "/KayitFormu/index";
                } else {
                    window.location.href = "/TakipFormu/index";
                }
            }
        })
    }
</script>

<!-- Plugins  -->
    <script src="~/bundles/jqueryval"></script>
    <script src="~/assets/js/jquery.min.js"></script>
    <script src="~/assets/js/popper.min.js"></script><!-- Popper for Bootstrap -->
    <script src="~/assets/js/bootstrap.min.js"></script>
    <script src="~/assets/js/detect.js"></script>
    <script src="~/assets/js/fastclick.js"></script>
    <script src="~/assets/js/jquery.slimscroll.js"></script>
    <script src="~/assets/js/jquery.blockUI.js"></script>
    <script src="~/assets/js/waves.js"></script>
    <script src="~/assets/js/wow.min.js"></script>
    <script src="~/assets/js/jquery.nicescroll.js"></script>
    <script src="~/assets/js/jquery.scrollTo.min.js"></script>
    <script src="~/plugins/switchery/switchery.min.js"></script>

    <!-- Custom main Js -->
    <script src="~/assets/js/jquery.core.js"></script>
    <script src="~/assets/js/jquery.app.js"></script>

</body>
</html>